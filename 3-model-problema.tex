\section{Matematička formulacija i konceptualni model problema}
\label{chap:model_problema}
Nakon pregleda teorijskih osnova, ovo poglavlje posvećeno je formalnoj definiciji problema optimizacije projektnog portfelja. Cilj je prevesti realni poslovni problem u precizan matematički i konceptualni model na koji se mogu primijeniti računalne metode optimizacije. U nastavku se detaljno opisuju ulazni entiteti, varijable odluke, primijenjena resursna ograničenja te jedno-kriterijski i više-kriterijski ciljevi koji su korišteni u eksperimentalnoj evaluaciji.
\subsection{Definicija skupa aktivnosti i varijabli odluke}
Problem se definira kao odabir optimalnog podskupa (portfelja) aktivnosti iz većeg, unaprijed definiranog skupa dostupnih aktivnosti. U korijenu problema nalazi se skup od $n$ potencijalnih projektnih aktivnosti, $A=\{a_1, a_2, ..., a_n\}$ iz kojeg je potrebno odabrati optimalan podskup (portfelj). Ovakav problem odabira predstavlja čest izazov u praksi projektnog menadžmenta \cite{PMI2021, Kerzner2017}.  Svaka aktivnost $a_i \in A$ opisana je s tri ključna atributa koji definiraju njezin trošak, cijenu i rizik.
Prvi je trošak ($c_i$), koji predstavlja količinu budžeta ili drugih resursa potrebnih za izvođenje aktivnosti. On je primarni faktor ograničenja. Drugi atribut je vrijednost ($v_i$), definirana kao povrat na investiciju (ROI).  Ona kvantificira korist ili profit koji se ostvaruje uspješnim završetkom aktivnosti i predstavlja primarni cilj maksimizacije. Treći, ključni atribut je nesigurnost trajanja. U ovom modelu, trajanje se ne definira kao jedna deterministička vrijednost već kao stohastička varijabla opisana s tri točke procjene: optimističnom ($T_o$), najvjerojatnijom ($T_m$) i pesimističnom ($T_p$). Ove procjene služe kao parametri za Trokutastu distribuciju unutar Monte Carlo simulacije, čime se rizik trajanja uvodi kao integralni dio modela.

S obzirom na navedene atribute, temeljni zadatak optimizacije je definirati binarni vektor odluke $x=(x_1, x_2, ..., x_n)$, gdje $x_i \in \{0,1\}$. Vrijednost $x_i=1$ označava da je aktivnost $a_i$ odabrana za uključivanje u portfelj, dok $x_i=0$ označava da se aktivnost ne izvodi. Ovaj vektor odluke je upravo ono što genetski algoritam nastoji optimizirati.

\subsection{Resursna ograničenja modela}
Svaki realni projekt podložan je ograničenjima. U ovom modelu implementirano je ključno i najčešće ograničenje u upravljanju portfeljem: ograničenje budžeta ($B_{max}$). Prema ovom pravilu, ukupni zbroj troškova svih odabranih aktivnosti ne smije prelaziti ukupno raspoloživi budžet. Upravo ovo ograničenje čini problem optimizacijski izazovnim; bez njega, trivijalno rješenje bilo bi odabrati sve profitabilne aktivnosti. Formalno, ovo ograničenje odgovara klasičnoj formulaciji problema ruksaka \texttt{Knapsack problem}\cite{Kellerer2004} i matematički se izražava kao:
$$
\sum_{i=1}^n c_i x_i \leq B_{max}
$$
Vrijedi napomenuti da ukupno trajanje portfelja nije tretirano kao strogo ograničenje, već kao izlazna metrika performansi i cilj za minimizaciju. Ova metodološka odluka je ključna, jer omogućuje modelu da istražuje kompromise. Umjesto da se postavi proizvoljan rok (npr. 300 dana) i odbace sva rješenja koja ga prelaze, ovakav pristup omogućuje algoritmu da pronađe rješenja koja su možda malo duža, ali značajno profitabilnija. To je u skladu s modernim praksama upravljanja projektnom nesigurnošću, gdje je cilj razumjeti i upravljati rizikom, a ne ga rigidno ograničiti \cite{Smith2014}.

\subsection{Specifikacija optimizacijskih ciljeva}
Ciljna funkcija (ili funkcija pogodnosti) je matematički izraz koji kvantificira kvalitetu pojedinog rješenja (portfelja). U skladu s eksperimentalnim dizajnom, definirana su i analizirana dva različita optimizacijska cilja.

Prvi, \textbf{jedno-kriterijski cilj}, predstavlja klasični financijski pristup usmjeren isključivo na maksimizaciju dobiti. Ovaj pristup odgovara GA (samo ROI) modelu, a njegova ciljna funkcija $f(\mathbf{x})$ je maksimizacija ukupnog zbroja ROI vrijednosti odabranih aktivnosti, uz poštivanje ograničenja budžeta. Ovakav tip optimizacijskog cilja čest je u primjeni genetskih algoritama na probleme alokacije resursa \cite{Goldberg1989}, a formalno se zapisuje kao:
$$ \text{maksimizirati } f(\mathbf{x}) = \sum_{i=1}^n v_i x_i $$

S druge strane, \textbf{više-kriterijski cilj} predstavlja srž ovog istraživanja i odgovara naprednom hibridnom GA+MC (NSGA-II) modelu. U ovom pristupu istovremeno se optimiziraju dva suprotstavljena cilja: maksimizacija profita i minimizacija rizika. Definiramo dvije ciljne funkcije: $f_1(\mathbf{x})$ za ukupni ROI i $f_2(\mathbf{x})$ za procijenjeno trajanje. Više-kriterijski optimizacijski problem tada se može formalno zapisati kao:
$$ \text{maksimizirati } \mathbf{F}(\mathbf{x}) = (f_1(\mathbf{x}), -f_2(\mathbf{x})) $$
gdje je $f_1(\mathbf{x})=\sum_{i=1}^n v_i x_i$, a $f_2(\mathbf{x})=E[T(\mathbf{x})]$. Negativni predznak ispred $f_2$ koristi se jer je standardna konvencija maksimizirati sve ciljeve. Budući da poboljšanje jednog cilja često degradira drugi, ovaj pristup ne traži jedno "najbolje" rješenje, već skup optimalnih kompromisnih rješenja (Paretov front), za što je korišten renomirani NSGA-II algoritam \cite{Deb2002}.

\subsection{Konceptualni prikaz modela}

Konceptualni model problema, koji objedinjuje sve prethodno opisane elemente, prikazan je na Slici \ref{fig:konceptualni_model}. Dijagram ilustrira proces kao sustav s jasno definiranim ulazima, procesom obrade i izlazima. \textbf{Ulaz} u sustav čini cjelokupni skup dostupnih aktivnosti sa svim njihovim atributima (trošak, ROI, procjene trajanja). \textbf{Proces obrade} predstavlja optimizacijski algoritam (genetski algoritam), koji je vođen definiranim qtextbf{ciljevima} (maksimizacija ROI-a i/ili minimizacija trajanja) i sputan zadanim \textbf{ograničenjem} (budžet). Algoritam sustavno pretražuje prostor mogućih kombinacija (svih mogućih vektora x) kako bi kao \textbf{izlaz} generirao optimalni portfelj – podskup aktivnosti koji najbolje zadovoljava postavljene kriterije.
\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{slike/model_problema.png}
    \caption{Konceptualni model problema optimizacije portfelja projektnih aktivnosti.}
    \label{fig:konceptualni_model}
\end{figure}

Ovaj formalizirani model omogućuje jasnu matematičku i vizualnu reprezentaciju optimizacijskog zadatka. Precizna definicija ulaza, ograničenja i ciljeva ključna je za sustavnu primjenu optimizacijskih metoda poput genetskih algoritama \cite{Mitchell1998} u kombinaciji s Monte Carlo simulacijama \cite{Rubinstein2016}, kako bi se dobila rješenja visoke kvalitete koja su istovremeno i robusna na prisutne nesigurnosti.
